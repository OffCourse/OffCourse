---
title: Value Driven Development
coverImage: ../assets/test-drive.jpg
author: Yeehaa
date: 2020-04-23
tags: 
  - Ruby
  - Public Badges
  - Values
  - Ethics
  - TDD
  - BDD
excerpt: | 
  Test Driven
---
> 'Cause anything's possible, yeah   
> There's no code of ethics out here
>
> &mdash; Drake

There has been no shortage lately of stories about the tech industry's questionable ethics. We all read the stories. A smart security camera company is working with law enforcement to create an unofficial surveillance network. Tech executives photoshop female executives into their snapshots of a field trip before sharing them on instagram. The algorithm of a new credit card determines credit limits on the basis of gender. And the list goes on and on.

Still, while the critique of immorality may apply to the upper echelons of the big coorporations, I believe it to be an unfair assessment of the field as a whole. While ethics is not always at the forefront of every developer's mind, it is a mistake to conclude that her work is thus immoral. Heck, I would not even call it amoral. 

A lot of software development &mdash; especially Open Source Software (OSS) development &mdash; is driven by values. From the Google Developer that aims to make the web more accesible, the Facebook Developer that open sources her internal tools, to the committed idealist developing a fair OS. 

Most software developers actually want to make the world a better place, even if &mdash; or especially when &mdash; their ethics don't alway align with their company's. The problem, however, is that these values are not always clear and visible from the outside.

In this article, I explain how Public Badges build on the existing paradigms of Test Driven Development (TDD) and Behavior Driven Development (BDD) to help engineers render the implicit values that drive their work explicit. By making values, measurable, testable, and communicable, Public Badges enable customers, partners, and end users to chose software solutions that aligns with their own values. Public Badges don't prescribe a certain set of morals, but facilitate the discussion about values.


## Test Driven Development

> I just took a DNA test   
> turns out I'm 100% that bitch   
> Even when I'm crying crazy   
>
> &mdash; Lizzo

Ruby was the first programming language that I truly loved. Its emphasis on readability and conceptual clarity is unrivaled even today.A large part of Ruby's appeal, though, came from its community's dedication to Test Driven Development (TDD).

It is almost impossible to learn how to program in Ruby without learning how to write unit tests. The idea behind testing is very simple. For every piece of code that does something, you also write another piece of code that checks that the former works correctly.

Concretely, a simple unit test would look something like this:

```ruby
assert_equal( 70, add( 50, 20 ) )
```

Test Driven Development, however, goes one step further than just unit writing tests. The real innovation of the methodology consists in the fact that the tests are not written after that you have written the code, but before.

This so-called [test first]() approach radically changes the practice of software development. Before the developer actually writes code, she makes a promise of what the code should do after it is finished. In TDD, tests become contracts. They formalize the expectations that the developer may have of herself or of others. The practice of TDD as such could thus already be considered ethical.

## Behavior Driven Development

> Question, what exactly is a panty raider?
> Ill behavior, savior or major flavor
>
> &mdash; Method Man

Behavior Driven Development takes these ideas one step further. In BDD, the focus of the test is no longer the code but the user. This is a very, subtle difference, that is often, but in my opinion falsely, dismissed as meaningless.

This difference is probably best illustrated with an example, which is deliberately kept very simple:

```gherkin
Feature: Cash register can correctly add up two amounts     
In order to make money 
As a store owner      
I want the cash register to function properly      

Example: refunded items should be returned to stock    
Given a customer buys a sweater and a pair of socks    
And the sweater costs 50 euro
And the socks cost 20 euro   
When I add up 50 euro and 20 euro  
Then the cash register should say 70 euro
```

For those, who never encountered Gherkin &mdash; the so-called domain specific language in which this test is written &mdash; before. The above example is actually valid Ruby code and not just a story. It can be parsed and executed by a computer. 

As is immediate apparent, BDD is much more verbose than TDD. While both tests are functionally equivalent, the former needs 11 more lines of code. 

Many developers would dismiss these extra lines as superfluous but they thereby miss the essential point of BDD. Test are no exclusively longer intended for developers. They are meant to facilitate the dialogue with the software’s intended user, and manage the latter’s expectations.

One could argue that from a BDD perspective, the most important line in the test above is thus the following:

```gherkin
As a store owner
```
As opposed to TDD, BDD tests don’t formalize the expectations between developers (either other people or future selfs). They create a contract between developers and the software’s future users. And thus increases the responsibility.


## Value Driven Development

> I'm just valuin' the value   
> 
> &mdash; Lil' Wayne

BDD constantly reminds the developer of the fact that there is an actual user of her software, which &mdash; as anyone who has ever used a computer knows &mdash; is already a feat as such.

But while the user centricity of BDD has been often praised, there is another line in the example above that unfortunately never gets the attention that it deserves.
  
```gherkin
In order to make money   
```

This is the place where the value of the software is determined. And while making money can be an important value. It is far from the only one. Just imagine what else we could have stated as the project’s goal:

```gherkin
In order to increase accessibility  ```

```gherkin
In order to fairly distribute means ```

```gherkin
In order to make people healthier    ```

```gherkin
In order to protect people’s privacy     ```

```gherkin
In order to keep the internet open    ```

In short, that’s what we try to do with Public Badges. Motivate them to formalize the contract with their users from the perspective of values. Rather than simply testing the behavior of the code, it’s important to realize and formalize that intended behavior by definition . By rendering this implicit ethical position explicit,  

---
This is the second in a series of articles. The first can be found here:
[Fundamentals of Trust](../fundamentals-of-trust)

[Public Badges](https://github.com/OffCourse/public-badges) is an initiative of
[Public Spaces](https://publicspaces.net) that is currently being developed by
[Waag](https://waag.org) and [Offcourse Studio_](https://offcourse-studio.com).

Photo by [Lisheng Chang](https://unsplash.com/@changlisheng?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on Unsplash
